<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>an:care Stick Calm | Produkt</title>
  <meta name="description" content="Produktdetailseite für an:care Stick Calm. Prototyp mit lokalem Warenkorb." />
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" href="favicon.png">
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header>
    <div class="container">
      <div class="nav">
        <a class="brand" href="index.html" aria-label="Zur Startseite">
          <img class="logo" src="logo-v2.jpg" alt="an:care Logo" />
          <span>
            an:care
            <small>Produktdetails</small>
          </span>
        </a>

        <nav class="links" aria-label="Navigation">
          <a class="link" href="shop.html">Shop</a>
          <a class="link" href="#details">Details</a>
          <a class="link" href="marketing.html">Marketing</a>
          <a class="link" href="FAQ.html">FAQ</a>
          <a class="btn btnPrimary" href="#warenkorb">
            Warenkorb <span class="badge" id="cartCount">0</span>
          </a>
        </nav>
      </div>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container">
        <div class="productGrid">
          <div class="card shadowBig">
            <div class="mediaTop">
              <div>
                <strong>Galerie</strong><br />
                <span>Klicke auf ein Thumbnail</span>
              </div>
              <span class="kicker" style="margin:0">an:care Stick</span>
            </div>

            <div class="pad">
              <img id="mainImage" class="galleryMain" src="anker8.jpg" alt="an:care Stick Calm Produktbild" />

              <div class="thumbs" aria-label="Thumbnails">
                <img class="thumb" src="anker3.jpg" alt="Packshot" data-src="anker3.jpg" />
                <img class="thumb" src="anker4.jpg" alt="Regal Foto" data-src="anker4.jpg" />
                <img class="thumb" src="anker5.jpg" alt="Verpackung" data-src="anker5.jpg" />
                <img class="thumb" src="anker6.jpg" alt="Lifestyle" data-src="anker6.jpg" />
                <img class="thumb" src="anker8.jpg" alt="Freisteller" data-src="anker8.jpg" />
                <img class="thumb" src="anker9.jpg" alt="Set" data-src="anker9.jpg" />
              </div>

              <div class="fineprint">
                Hinweis: Produktdarstellung im Prototyp. Aussagen sind auf Wohlbefinden und Entspannung ausgerichtet.
                Keine medizinischen Versprechen.
              </div>
            </div>
          </div>

          <aside class="card shadowBig" id="details">
            <div class="padLg">
              <div class="kicker"><span class="dot" aria-hidden="true"></span> an:care Stick Calm</div>
              <h1 style="margin-bottom:8px">Dein Moment der Ruhe</h1>

              <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap">
                <div class="price" style="font-size:14px">13,99 EUR</div>
                <div style="color:var(--muted); font-size:13.5px">Lieferzeit 1-2 Tage</div>
              </div>

              <p class="lead" style="margin-top:12px">
                Ein Duftstick für Übergänge: vor Terminen, nach Reizüberflutung, am Abend.
                Diskret und ohne Aufwand.
              </p>

              <div class="tagRow">
                <span class="tag">Neroli</span>
                <span class="tag">Kokosöl</span>
              </div>

              <div class="field">
                <label for="qty">Menge</label>
                <input id="qty" type="number" min="1" value="1" />
              </div>

              <div class="ctaRow" style="margin-top:14px">
                <button class="btn btnPrimary" type="button" id="addBtn">In den Warenkorb</button>
                <button class="btn" type="button" id="buyBtn">Checkout Prototyp</button>
              </div>

              <div class="fineprint">
                Sicherheit: Nicht in die Augen bringen. Außer Reichweite von Kindern.
                Bei Allergien, Schwangerschaft oder Asthma bitte fachlich abklären.
              </div>

              <div class="fineprint" style="margin-top:10px">
                Hinweis: Weitere Sorten (Focus, Balance, Sleep) sind in Vorbereitung. Interesse kannst du im Shop hinterlassen.
              </div>

              <div class="ctaRow" style="margin-top:12px">
                <a class="btn" href="shop.html">Zum Shop</a>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <section class="section" id="warenkorb">
      <div class="container">
        <div class="sectionHeader">
          <div>
            <h2>Warenkorb</h2>
            <p>Im Prototyp speichern wir nur lokal im Browser, kein echter Kauf.</p>
          </div>
        </div>

        <div class="card shadowBig">
          <div class="pad">
            <div id="miniCart"></div>

            <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:12px; flex-wrap:wrap">
              <div style="color:var(--muted); font-size:13.5px">Zwischensumme</div>
              <div class="price" id="miniCartTotal">0,00 EUR</div>
            </div>

            <div class="ctaRow" style="margin-top:12px">
              <button class="btn btnPrimary" type="button" id="fakePay">Fiktive Bestellung auslösen</button>
              <button class="btn" type="button" id="clear">Warenkorb leeren</button>
            </div>

            <div class="fineprint" id="success" style="display:none">
              Erfolg im Prototyp. Bestellung ausgelöst. Es wurde keine echte Zahlung ausgeführt.
            </div>
          </div>
        </div>
      </div>
    </section>


        <details>
          <summary>Wofür ist der an:care Stick gedacht</summary>
          <p>Als Duftritual zur Unterstützung von Entspannung und Fokus im Alltag. Er ersetzt keine Behandlung.</p>
        </details>
        <details>
          <summary>Ist das hier ein echter Shop</summary>
          <p>Nein. Das ist ein Prototyp. Warenkorb und Bestellung sind nur lokal im Browser gespeichert.</p>
        </details>
      </div>
    </section>

    <footer>
      <div class="container">
        <div class="foot">
          <div>
            <strong style="color:var(--text)">an:care</strong><br />
            <span>Prototyp Produktdetailseite</span>
          </div>
          <div>
            <a class="link" href="index.html">Zur Startseite</a>
          </div>
        </div>
      </div>
    </footer>
  </main>

<script src="app.js"></script>
<script>
  const product = { id:"ancare_stick_calm", name:"an:care Stick Calm", note:"Lavendel Bergamotte Vetiver", price:13.99 };

  // Thumbnails
  document.querySelectorAll(".thumb").forEach((t) => {
    t.addEventListener("click", () => {
      const src = t.getAttribute("data-src");
      const main = document.getElementById("mainImage");
      if (main && src) main.src = src;
    });
  });

  // Safe helper (falls app.js nicht geladen wurde)
  function ensure(fnName){
    return (typeof window[fnName] === "function");
  }

  document.getElementById("addBtn")?.addEventListener("click", () => {
    if(!ensure("addToCart")){
      alert("Fehler: app.js wurde nicht geladen. Bitte Seite neu laden (Ctrl+F5).");
      return;
    }

    const qty = Math.max(1, parseInt(document.getElementById("qty")?.value || "1", 10));

    window.addToCart({
      id: product.id,
      name: product.name,
      note: product.note,
      price: product.price,
      qty
    });

    window.renderMiniCart?.();
    window.setCartBadge?.();
    alert("Im Prototyp hinzugefügt.");
  });

  document.getElementById("buyBtn")?.addEventListener("click", () => {
    document.getElementById("warenkorb")?.scrollIntoView({ behavior: "smooth" });
  });

  document.getElementById("fakePay")?.addEventListener("click", () => {
    if(!ensure("loadCart") || !ensure("clearCart")){
      alert("Fehler: app.js wurde nicht geladen. Bitte Seite neu laden (Ctrl+F5).");
      return;
    }

    const cart = window.loadCart();
    if(cart.length === 0){
      alert("Warenkorb ist leer.");
      return;
    }

    window.clearCart();
    window.renderMiniCart?.();
    window.setCartBadge?.();
    const success = document.getElementById("success");
    if(success) success.style.display = "block";
  });

  document.getElementById("clear")?.addEventListener("click", () => {
    if(!ensure("clearCart")){
      alert("Fehler: app.js wurde nicht geladen. Bitte Seite neu laden (Ctrl+F5).");
      return;
    }
    window.clearCart();
    window.renderMiniCart?.();
    window.setCartBadge?.();
    const success = document.getElementById("success");
    if(success) success.style.display = "none";
  });

  // Initial UI
  document.addEventListener("DOMContentLoaded", () => {
    window.renderMiniCart?.();
    window.setCartBadge?.();
  });
</script>
</body>
</html>
